<div class="tab-pane fade" id="pills-home" role="tabpanel"
aria-labelledby="pills-home-tab" tabindex="0">
<div class="card card-body shadow-none">
    <div class="row g-3">
        <div class="col-md-6 col-lg5">
            <div
                class="card bg-label-success card-check card-selected shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A101</h5>
                    <div class="text-success h5 text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        50บาท/วัน สูงสุด 1,550 บาท
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div
                class="card bg-label-success card-check card-selected shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A102</h5>
                    <div class="text-success h5 text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        50บาท/วัน สูงสุด 1,550 บาท
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div
                class="card bg-label-success card-check shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A103</h5>
                    <div class="text-success h5 text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        50บาท/วัน สูงสุด 1,550 บาท
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-label-success card-check shadow-sm">
                <div class="card-body text-center">
                    <h5 class="card-title">A104</h5>
                    <div class="text-success h5 text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        50บาท/วัน สูงสุด 1,550 บาท
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-label-success card-check shadow-sm">
                <div class="card-body text-center">
                    <h5 class="card-title">A105</h5>
                    <div class="text-success h5 text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        50บาท/วัน สูงสุด 1,550 บาท
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-lightGray card-check shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A106</h5>
                    <div class="h6 text-secondary text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        ยังไม่ได้กำหนดค่าปรับ
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-lightGray card-check shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A107</h5>
                    <div class="h6 text-secondary text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        ยังไม่ได้กำหนดค่าปรับ
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-lightGray card-check shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A108</h5>
                    <div class="h6 text-secondary text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        ยังไม่ได้กำหนดค่าปรับ
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-lightGray card-check shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A109</h5>
                    <div class="h6 text-secondary text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        ยังไม่ได้กำหนดค่าปรับ
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg5">
            <div class="card bg-lightGray card-check shadow-sm h-100">
                <div class="card-body text-center">
                    <h5 class="card-title">A110</h5>
                    <div class="h6 text-secondary text-center">
                        <span class="ti-sm ti ti-history me-1"></span>
                        ยังไม่ได้กำหนดค่าปรับ
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<div class="tab-pane fade show active" id="pills-profile" role="tabpanel"
aria-labelledby="pills-profile-tab" tabindex="0">
<table class="datatables-basic table dataTable no-footer dtr-column"
    id="DataTables_Table_0" aria-describedby="DataTables_Table_0_info">
    <thead>
        <tr class="bg-label-warning">
            <th class="control sorting_disabled dtr-hidden" rowspan="1"
                colspan="1" style="width: 0px; display: none;"
                aria-label=""></th>
            <th class="sorting_disabled dt-checkboxes-cell dt-checkboxes-select-all"
                rowspan="1" colspan="1" style="width: 18px;"
                data-col="1" aria-label=""><input type="checkbox"
                    class="form-check-input"></th>
            <th class="sorting" tabindex="0"
                aria-controls="DataTables_Table_0" rowspan="1"
                colspan="1"
                aria-label="Name: activate to sort column ascending">
                ห้อง</th>
            <th class="sorting" tabindex="0"
                aria-controls="DataTables_Table_0" rowspan="1"
                colspan="1"
                aria-label="Email: activate to sort column ascending">
                ค่าปรับ</th>
            <th class="sorting_disabled" rowspan="1" colspan="1"
                aria-label="Actions"></th>
        </tr>
    </thead>
    <tbody>
        
    @foreach ($list_data as $row)

        <tr class="odd">
            <td class="  control" tabindex="0" style="display: none;">
            </td>
            <td class="  dt-checkboxes-cell">
                <input type="checkbox" class="dt-checkboxes form-check-input ids" value="{{ $row->id }}">
            </td>
            <td>{{ $row->name }}</td>
            <td>
                @if ($row->fine_day > 0)
                    <span
                    class="badge  bg-label-success rounded-pill">
                    {{ number_format($row->fine_day) }} บาท/วัน
                    สูงสุด {{ $row->maximum_fine > 0 ? number_format($row->maximum_fine) : 0 ; }} บาท
                @else
                    <span
                    class="badge bg-label-secondary rounded-pill">
                    ยังไม่ได้กำหนดค่าปรับ
                @endif
            </span>
        </td>
            <td>
                <button type="button"
                    class="btn btn-main btn-sm rounded-pill waves-effect waves-light me-md-2 mb-2 mb-md-0"
                    data-bs-toggle="modal"
                    data-bs-target="#editModal"
                    onclick="view({{ $row->id }})" >
                    <span
                        class="ti-xs ti ti-history me-2"></span>กำหนดค่าปรับ
                </button>
            </td>
        </tr>
    @endforeach
    </tbody>
</table>
@include('layout/pagination')
</div>
<script>
    $(document).ready(function () {
        // เมื่อคลิกที่ checkbox ใน <th>
        $('.dt-checkboxes-select-all input[type="checkbox"]').on('change', function () {
            // ตรวจสอบสถานะของ checkbox ใน <th>
            var isChecked = $(this).prop('checked');
            
            // ทำให้ checkbox ทุกอันใน <td> ถูกเช็คหรือยกเลิกการเช็ค
            $('td.dt-checkboxes-cell input[type="checkbox"]').prop('checked', isChecked);
            checkNoChecked();
        });

        // เมื่อคลิกที่ checkbox ใน <td> (ตรวจสอบสถานะของทุก checkbox)
        $('td.dt-checkboxes-cell input[type="checkbox"]').on('change', function () {
            // ตรวจสอบว่า checkbox ใน <td> ถูกเช็คหรือไม่
            var allChecked = $('td.dt-checkboxes-cell input[type="checkbox"]').length === $('td.dt-checkboxes-cell input[type="checkbox"]:checked').length;
            
            // ถ้าทุก checkbox ใน <td> ถูกเช็ค จะทำให้ checkbox ใน <th> ถูกเช็ค
            $('.dt-checkboxes-select-all input[type="checkbox"]').prop('checked', allChecked);
            checkNoChecked();
        });
        
    });
    checkNoChecked();
    function checkNoChecked() {
        if ($('td.dt-checkboxes-cell input[type="checkbox"]:checked').length === 0) {
        // ทำให้ปุ่มถูก disabled
            $('#edit-rent').prop('disabled', true);
        } else {
            // ถ้ามี checkbox ถูกเช็ค ให้เปิดใช้งานปุ่ม
            $('#edit-rent').prop('disabled', false);
        }
    }
</script>